<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Grade Email Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    <div class="container">
    <h1>AI Grade Email Generator</h1>

    <button id="openModalBtn" class="btn btn-primary">Select Subjects</button>

    <form action="{{ url_for('generate_email') }}" method="POST" id="mainForm">
      <input type="text" name="student_name" placeholder="Student Name" required /><br/><br/>
      <input type="text" name="parent_name" placeholder="Parent Name" required /><br/><br/>
      <input type="email" name="parent_email" placeholder="Parent Email" required /><br/><br/>

      <label for="grades">Selected Subjects and Marks (format: Subject:Mark,...):</label><br/>
      <textarea id="gradesField" name="grades" rows="4" style="width:100%;" required></textarea><br/><br/>

      <button type="submit" class="btn btn-primary">Generate Email</button>
    </form>

    <div id="subjectsModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeModalBtn">&times;</span>
        <h2>Select Subjects</h2>
        <input type="text" id="searchInput" placeholder="Search subjects or categories..." oninput="filterSubjects()" style="width:100%; padding: 8px; margin-bottom: 15px;" />
        <div id="categoriesContainer"></div>
        <button onclick="addSelectedSubjects()">Add Selected Subjects</button>
      </div>
    </div>
    </div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
